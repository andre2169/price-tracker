# Price Tracker (Python + Docker + Cron)

A simple and robust **price monitoring application** built with Python, fully containerized with Docker and automated using Cron.

This project periodically checks the price of a product from an e-commerce website and compares it with a target price defined via environment variables.

---

## ğŸš€ Features

* ğŸ Python-based price scraping
* ğŸ³ Dockerized environment (portable and reproducible)
* â° Automated execution using **cron inside the container**
* ğŸ“„ Structured logging to files
* ğŸ” Configuration via `.env`
* ğŸ§© Clean project architecture (scraper, parser, service layer)

---

## ğŸ—‚ Project Structure

```
price-tracker/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ config.py        # Environment variables and logging config
â”‚   â”œâ”€â”€ scraper.py       # HTTP requests and HTML parsing
â”‚   â”œâ”€â”€ parser.py        # Price text normalization
â”‚   â”œâ”€â”€ service.py       # Business logic
â”‚
â”‚â”€â”€ logs/
â”‚   â”œâ”€â”€ cron.log         # Cron execution logs
â”‚   â””â”€â”€ price_tracker.log# Application logs
â”‚
â”‚â”€â”€ cronjob              # Cron schedule definition
â”‚â”€â”€ main.py              # Application entrypoint
â”‚â”€â”€ Dockerfile
â”‚â”€â”€ docker-compose.yml
â”‚â”€â”€ requirements.txt
â”‚â”€â”€ .env.example
â”‚â”€â”€ README.md
```

---

## âš™ï¸ Environment Variables

Create a `.env` file based on `.env.example`:

```env
URL_PRODUTO=https://books.toscrape.com/catalogue/a-light-in-the-attic_1000/index.html
PRECO_ALVO=60
```

---

## ğŸ³ Running with Docker

### Build the container

```bash
docker compose build
```

### Start the container

```bash
docker compose up -d
```

### Stop the container safely

```bash
docker compose down
```

---

## â–¶ï¸ Manual Execution (for testing)

You can manually run the application inside the container:

```bash
docker compose exec price-tracker python3 /app/main.py
```

Example output:

```
>>> MAIN.PY EXECUTED <<<
2025-12-28 16:29:09 - INFO - Starting price check
2025-12-28 16:29:10 - INFO - Current price: 51.77 | Target price: 60.0
2025-12-28 16:29:10 - INFO - Price below target. Action allowed.
2025-12-28 16:29:10 - INFO - Finished execution
```

---

## â° Cron Automation

The cron job runs automatically at a defined interval (e.g., every minute):

```
* * * * * python3 /app/main.py >> /app/logs/cron.log 2>&1
```

Logs generated by cron are stored in:

```
logs/cron.log
```

---

## ğŸ“ Logging

* **Application logs:** `logs/price_tracker.log`
* **Cron logs:** `logs/cron.log`

Logs include timestamps, log levels, and execution details.

---

## âš ï¸ Important Notes

* Some e-commerce websites (e.g., Mercado Livre, Magazine Luiza) block automated requests and return **HTTP 403**.
* For this reason, a demo-friendly website (`books.toscrape.com`) is used by default.
* This project is for **educational and portfolio purposes**.

---

## ğŸ›  Technologies Used

* Python 3.11
* Requests
* BeautifulSoup4
* Docker & Docker Compose
* Linux Cron

---

## ğŸ“Œ Possible Improvements

* Email or Telegram notifications
* Database integration (SQLite / PostgreSQL)
* Support for multiple products
* Retry and backoff strategies
* Headless browser scraping (Playwright / Selenium)
* CI pipeline

---

## ğŸ‘¤ Author

**AndrÃ© Luis**
Brazil ğŸ‡§ğŸ‡·

---

If you found this project useful, feel free to â­ star the repository!
